---
import Badge from '@components/shared/Badge.astro'
import type { Project } from './Projects.astro'
import ProjectImage from './ProjectImage.astro'

interface Props {
  project: Project
}

const {
  project: { title, description, company, badges = [], image, layout: { backgroundColor } = {} }
} = Astro.props
---

<div
  style={backgroundColor ? { backgroundColor } : undefined}
  class="overflow-hidden rounded-lg border bg-white p-7 pb-0 shadow-sm dark:border-none"
>
  <h4 class="pb-1 font-medium uppercase tracking-wider text-white/75">
    {title} -
    <span class="font-normal capitalize">{company}</span>
  </h4>
  <h3
    class="text-2xl font-bold tracking-[0.03em] text-white/95 sm:text-3xl"
    set:html={description}
  />
  <div class="mb-16 mt-5 flex flex-wrap gap-1">
    {
      badges.map(({ name, icon: Icon }) => (
        <Badge>
          <Icon class="h3 w-3" />
          {name}
        </Badge>
      ))
    }
  </div>
  <ProjectImage src={image.url} class={image.class} alt={image.alt} />
</div>
